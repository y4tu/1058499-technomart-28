var mapOpen=document.querySelector(".minimap-link"),map=document.querySelector(".popup-map"),mapClose=document.querySelector(".cross-map"),cartOpenBtns=document.querySelectorAll(".goods-buy-link"),cart=document.querySelector(".popup-cart"),closeBtns=document.querySelectorAll(".cross"),continueShopping=document.querySelector(".popup-continue"),feedbackOpen=document.querySelector(".feedback-link"),feedback=document.querySelector(".popup-feedback"),feedbackClose=document.querySelector(".cross-feedback");if(feedback)var feedbackName=feedback.querySelector("#name-field"),feedbackEmail=feedback.querySelector("#email-field"),feedbackForm=feedback.querySelector(".popup-form");var isStorageSupport=!0,storage="";try{storage=localStorage.getItem("feedbackName")}catch(a){isStorageSupport=!1}if(cartOpenBtns)for(var i=0;i<cartOpenBtns.length;i++)cartOpenBtns[i].addEventListener("click",function(a){a.preventDefault(),cart.classList.add("show")});if(closeBtns&&cart)for(var i=0;i<closeBtns.length;i++)closeBtns[i].addEventListener("click",function(a){a.preventDefault(),cart.classList.remove("show")});mapClose&&mapClose.addEventListener("click",function(a){a.preventDefault(),map.classList.remove("show")}),feedbackClose&&feedbackClose.addEventListener("click",function(a){a.preventDefault(),feedback.classList.remove("show"),feedback.classList.remove("error")}),continueShopping&&continueShopping.addEventListener("click",function(a){a.preventDefault(),cart.classList.remove("show")}),window.addEventListener("keydown",function(a){27===a.keyCode&&cart&&cart.classList.contains("show")&&cart.classList.remove("show")}),mapOpen&&mapOpen.addEventListener("click",function(a){a.preventDefault(),map.classList.add("show")}),window.addEventListener("keydown",function(a){27===a.keyCode&&map&&map.classList.contains("show")&&map.classList.remove("show")}),feedbackOpen&&feedbackOpen.addEventListener("click",function(a){a.preventDefault(),feedback.classList.add("show"),storage?(feedbackName.value=storage,feedbackEmail.focus()):feedbackName.focus()}),feedbackForm&&feedbackForm.addEventListener("submit",function(a){feedbackName.value&&feedbackEmail.value?localStorage.setItem("feedbackName",feedbackName.value):(a.preventDefault(),feedback.classList.remove("error"),feedback.offsetWidth=feedback.offsetWidth,feedback.classList.add("error"))}),window.addEventListener("keydown",function(a){27===a.keyCode&&(feedback&&feedback.classList.contains("show")&&feedback.classList.remove("show"),feedback&&feedback.classList.contains("error")&&feedback.classList.remove("error"))});
