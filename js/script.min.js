var feedbackName,feedbackEmail,feedbackForm,mapOpen=document.querySelector(".minimap-link"),map=document.querySelector(".popup-map"),mapClose=document.querySelector(".cross-map"),cartOpenBtns=document.querySelectorAll(".goods-buy-link"),cart=document.querySelector(".popup-cart"),closeBtns=document.querySelectorAll(".cross"),continueShopping=document.querySelector(".popup-continue"),feedbackOpen=document.querySelector(".feedback-link"),feedback=document.querySelector(".popup-feedback"),feedbackClose=document.querySelector(".cross-feedback"),shippingName=document.querySelector(".services-shipping"),warrantyName=document.querySelector(".services-warranty"),creditName=document.querySelector(".services-credit"),shippingContent=document.querySelector(".container-shipping"),warrantyContent=document.querySelector(".container-warranty"),creditContent=document.querySelector(".container-credit");feedback&&(feedbackName=feedback.querySelector("#name-field"),feedbackEmail=feedback.querySelector("#email-field"),feedbackForm=feedback.querySelector(".popup-form"));var isStorageSupport=!0,storage="";try{storage=localStorage.getItem("feedbackName")}catch(e){isStorageSupport=!1}if(cartOpenBtns)for(var i=0;i<cartOpenBtns.length;i++)cartOpenBtns[i].addEventListener("click",function(e){e.preventDefault(),cart.classList.add("show")});if(closeBtns&&cart)for(i=0;i<closeBtns.length;i++)closeBtns[i].addEventListener("click",function(e){e.preventDefault(),cart.classList.remove("show")});mapClose&&mapClose.addEventListener("click",function(e){e.preventDefault(),map.classList.remove("show")}),feedbackClose&&feedbackClose.addEventListener("click",function(e){e.preventDefault(),feedback.classList.remove("show"),feedback.classList.remove("error")}),continueShopping&&continueShopping.addEventListener("click",function(e){e.preventDefault(),cart.classList.remove("show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&cart&&cart.classList.contains("show")&&cart.classList.remove("show")}),mapOpen&&mapOpen.addEventListener("click",function(e){e.preventDefault(),map.classList.add("show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&map&&map.classList.contains("show")&&map.classList.remove("show")}),feedbackOpen&&feedbackOpen.addEventListener("click",function(e){e.preventDefault(),feedback.classList.add("show"),storage?(feedbackName.value=storage,feedbackEmail.focus()):feedbackName.focus()}),feedbackForm&&feedbackForm.addEventListener("submit",function(e){feedbackName.value&&feedbackEmail.value?localStorage.setItem("feedbackName",feedbackName.value):(e.preventDefault(),feedback.classList.remove("error"),feedback.offsetWidth,feedback.classList.add("error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(feedback&&feedback.classList.contains("show")&&feedback.classList.remove("show"),feedback&&feedback.classList.contains("error")&&feedback.classList.remove("error"))}),shippingName&&shippingName.addEventListener("click",function(e){e.preventDefault(),shippingName.classList.add("services-list-link-active"),warrantyName.classList.contains("services-list-link-active")&&warrantyName.classList.remove("services-list-link-active"),creditName.classList.contains("services-list-link-active")&&creditName.classList.remove("services-list-link-active"),shippingName.classList.contains("services-list-link-active")&&shippingContent.classList.add("show-service"),warrantyContent.classList.contains("show-service")&&warrantyContent.classList.remove("show-service"),creditContent.classList.contains("show-service")&&creditContent.classList.remove("show-service")}),warrantyName&&warrantyName.addEventListener("click",function(e){e.preventDefault(),shippingName.classList.contains("services-list-link-active")&&shippingName.classList.remove("services-list-link-active"),warrantyName.classList.add("services-list-link-active"),creditName.classList.contains("services-list-link-active")&&creditName.classList.remove("services-list-link-active"),shippingContent.classList.contains("show-service")&&shippingContent.classList.remove("show-service"),warrantyName.classList.contains("services-list-link-active")&&warrantyContent.classList.add("show-service"),creditContent.classList.contains("show-service")&&creditContent.classList.remove("show-service")}),creditName&&creditName.addEventListener("click",function(e){e.preventDefault(),shippingName.classList.contains("services-list-link-active")&&shippingName.classList.remove("services-list-link-active"),warrantyName.classList.contains("services-list-link-active")&&warrantyName.classList.remove("services-list-link-active"),creditName.classList.add("services-list-link-active"),shippingContent.classList.contains("show-service")&&shippingContent.classList.remove("show-service"),warrantyContent.classList.contains("show-service")&&warrantyContent.classList.remove("show-service"),creditName.classList.contains("services-list-link-active")&&creditContent.classList.add("show-service")});
